# JS 动画

## 1 JS中的运动 setInterval

### 1 JS运动的原理

1. 速度-物体运动的快慢
    - 匀速运动，速度不变
    - setInterval开始运动前，先关闭已有定时器
    - 停止条件，清除定时器；淡入淡出，分享到案例

2. 不同属性的运动，让某个值运动起来
    - 多个物体运动，单一定时器存在的问题
    - 每个运动物体，单独一个定时器
    - 多个属性同时运动的问题，`for in`

3. 摩擦运动：逐渐变慢，最后停止
    - 摩擦，减速 : 在运动过程中，速度越来越慢

4. 缓冲运动
    - 缓冲：愈接近目标点，速度就越小
    - 与摩擦力的区别：可以精确的停到指定目标点
    - 距离越远速度越大：速度有距离决定
    - 速度 = `(目标值 - 当前值) / 缩放系数`
    - Bug：速度取整，值向上，向下取整
    - `offsetWidth` 和 `style.left`取值细节
    - `offsetLeft, offsetWidth` 计算出来的值，结果是四舍五入的值，整数：没有小数点
    - `style.left` 获取的是 css样式的值，精确到小数点

```jsx
.box {
  width: 100.4px
}
box.offsetWidth // 100

.box {
  width: 100.6px
}
box.offsetWidth // 101
```


### 2 运动的应用

1. 图片懒加载
    1. 不直接修改 `img的 src`，加载完成后，再显示可视区内的图片
    2. Event：`onload` 加载完成后显示图片； `onerror` 加载失败时的处理
    3. 预加载：自动加载下一张图片
    4. 延迟加载：加载可视区内的图片，其他图片等进入可视区再加载

3. 碰撞弹性运动
4. 时间版运动


## 2 JS 三角函数

1. 什么是三角？
2. 什么是函数？
3. 直角三角形：勾股定理
    - 实现 2点坐标求距离
    - js中的平方和开方，例如：苹果菜单


## 3 3D立体图形圆球


## 4 圆锥

## 5 柱状扭曲
